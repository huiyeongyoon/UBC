<!-- 
  - 프라미스 객체를 만들고, "안녕하세요"를 resolve한다
  - 다음 then을 추가하여 위에 반환한 데이터를 출력한다.
  - then을 활용하여 위에서 resolve한 "안녕하세요"를 출력하고, 받은데이터 + " 여러분"을 반환(return)한다
  
  - 프라미스 객체 반환(return)하고 파라메터가 name, prevName으로 설정하는 함수 promise_func를 만든다.
  - 함수 promise_func에서 "(name), (prevName)" 형태로 newName 변수에 담는다. (단, prevName이 없다면, name만 담는다.)
  - 함수 promise_func에서 newName을 1초후에 출력하고, resolve하는 타이머를 만든다.
  - 햄버거, 피자, 치킨, 떡볶이가 순서대로 출력될 수 있도록, 함수 promise_func를 호출한다. (then 사용) 
    (햄버거 -> 햄버거, 피자 -> 햄버거, 피자, 치킨 -> 햄버거, 피자, 치킨, 떡볶이)
 -->
<html>
  <body>
    프라미스
  </body>
</html>
<script>
  
  new Promise((resolve)=> {
    //함수형태로 써져야 promise 객체가 정상적으로 동작한다

    console.log(resolve);
    resolve('안녕하세요');
  })
  // then은 resolve한 데이터를 사용 할 수 있다
  .then((res) => {
  //return 을줘서 then을 또 사용 가능하게 해준다
    return res + ' 여러본';
  })
  .then((res)=> {
    console.log(res);
  })


  const promise_func = (name, prevName) => {
    return new Promise((resolve) => {
      setTimeout(() =>{
        let newName = '';
        if(prevName) {
          newName = `${prevName}, ${name}`;
        } else {
          newName = name;
        }
        console.log(newName);
        resolve(newName);
      }, 1000)
    })
  }
  promise_func('햄버거')
                          // {}와 return 생략되어 있음
    //  (()=> {
    //  }) 생략되어있음       
    .then((fastFoodList) => promise_func('피자', fastFoodList))
    .then(fastFoodList => promise_func('치킨', fastFoodList))
    .then(fastFoodList => promise_func('떡볶이', fastFoodList))
</script>